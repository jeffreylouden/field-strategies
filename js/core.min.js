(function(e,t,n){"use strict";function M(){_(o);setTimeout(function(){M()},7500)}function _(t){A=k.find(".current");O=A.index();if(t===l){A.removeClass(f).removeClass(i);if(O>0)L.eq(O-1).removeClass(f).addClass(i);else if(O===0){L.each(function(){var t=e(this),n=t.index();n>0&&n<L.length-1&&t.addClass(f)});L.eq(L.length-1).addClass(i)}else L.eq(L.length-1).removeClass(f).addClass(i)}else{A.removeClass(i).addClass(f);if(O<L.length-1)L.eq(parseFloat(O+1)).removeClass(f).addClass(i);else{L.eq(0).removeClass(f).addClass(i);L.each(function(){e(this).removeClass(f)})}}}function D(n){if(n===null||typeof n=="undefined")p.animate({scrollTop:0},600);else{var r=e(n),i=t.location.origin+"/"+n,s=r.offset().top;p.animate({scrollTop:s-56},600)}}function P(t){T.each(function(){var n=e(this),i=n.attr(s);if(t>=n.attr(a)&&t<n.attr(u)&&i!==C){v.hasClass(c)||v.addClass(c);C=i;switch(C){case"testimonials":C="clients";break;case"full-list":C="services"}d.find(".active").removeClass(r);e(d.find("[href=#"+C+"]").closest("li")).addClass(r)}else{if(t<=w.attr(u)){d.find(".active").removeClass(r);v.removeClass(c);C=""}if(t>=S.attr(a)){C="contact";d.find(".active").removeClass(r);e(d.find("[href=#contact]").closest("li")).addClass(r)}}})}function H(){T.each(function(){var t=e(this);t.attr(a,Math.floor(t.offset().top)-56);t.attr(u,parseInt(t.attr(a),10)+parseInt(t.outerHeight(!0),10))});S.attr(a,Math.floor(S.offset().top)-56);S.attr(u,parseInt(S.attr(a),10)+parseInt(S.outerHeight(!0),10));w.attr(a,Math.floor(w.offset().top)-56);w.attr(u,parseInt(w.attr(a),10)+parseInt(w.outerHeight(!0)+E.outerHeight(!0),10))}function B(){M();L.eq(0).addClass(i);H()}var r="active",i="current",s="id",o="next",u="data-offset-bottom",a="data-offset-top",f="past",l="previous",c="show",h=e("html"),p=h.add("body"),d=e("nav"),v=e(n.getElementById("nav-logo")),m=d.find("a"),g=e(n.getElementById("mobile-nav")),y=g.find("b"),b=g.find("i"),w=e(n.getElementById("hd")),E=e(n.getElementById("intro")),S=e(n.getElementById("contact")),x=e(n.getElementById("main")),T=x.find("article"),N,C,k=e(n.getElementById("testimonials")),L=k.find(".quote"),A,O;y.on("click",function(e){e.preventDefault();D();d.hasClass(c)&&d.removeClass(c)});v.on("click",function(e){e.preventDefault();D();d.hasClass(c)&&d.removeClass(c)});m.on("click",function(t){t.preventDefault();D(e(this).attr("href"));d.hasClass(c)&&d.removeClass(c)});b.on("click",function(){d.toggleClass(c)});e(t).resize(function(){H()});e(t).scroll(function(){N=e(this).scrollTop();N=N?N:0;P(N)});B()})(jQuery,window,document);