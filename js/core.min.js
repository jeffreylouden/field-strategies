(function(e){e.fn.unveil=function(t){function l(){a=o.filter(function(){var t=e(this),i=n.scrollTop(),s=i+n.height(),o=t.offset().top,u=o+t.height();return u>=i-r&&o<=s+r});u=a.trigger("unveil");o=o.not(u)}var n=e(window),r=t||0,i=window.devicePixelRatio>1,s=i?"data-src-retina":"data-src",o=this,u,a,f;this.one("unveil",function(){f=this.getAttribute(s);f=f||this.getAttribute("data-src");f&&this.setAttribute("src",f)});n.scroll(l);n.resize(l);l();return this}})(jQuery);(function(e,t,n){"use strict";function H(){B(u);setTimeout(function(){H()},7500)}function B(t){D=M.find(".current");P=D.index();if(t===c){D.removeClass(l).removeClass(i);if(P>0)_.eq(P-1).removeClass(l).addClass(i);else if(P===0){_.each(function(){var t=e(this),n=t.index();n>0&&n<_.length-1&&t.addClass(l)});_.eq(_.length-1).addClass(i)}else _.eq(_.length-1).removeClass(l).addClass(i)}else{D.removeClass(i).addClass(l);if(P<_.length-1)_.eq(parseFloat(P+1)).removeClass(l).addClass(i);else{_.eq(0).removeClass(l).addClass(i);_.each(function(){e(this).removeClass(l)})}}}function j(n){if(n===null||typeof n=="undefined")v.animate({scrollTop:0},600);else{var r=e(n),i=t.location.origin+"/"+n,s=r.offset().top;v.animate({scrollTop:s-52},600)}}function F(t){C.each(function(){var n=e(this),i=n.attr(s);switch(i){case"testimonials":i="clients";break;case"full-list":i="services"}if(T.attr(f)<=L){O="contact";g.hasClass(h)||g.addClass(h);m.find(".active").removeClass(r);e(m.find("[href=#contact]").closest("li")).addClass(r)}else if(t>=parseInt(n.attr(f)-56,10)&&t<parseInt(n.attr(a),10)&&O!==i){O=i;g.hasClass(h)||g.addClass(h);m.find(".active").removeClass(r);e(m.find("[href=#"+O+"]").closest("li")).addClass(r)}else if(t<parseInt(S.attr(a)-56,10)){m.find(".active").removeClass(r);g.removeClass(h);O=""}})}function I(){k=p.height();C.each(function(){var t=e(this);t.attr(f,t.offset().top);t.attr(a,parseInt(t.attr(f),10)+parseInt(t.outerHeight(!0),10))});T.attr(f,T.offset().top);S.attr(f,0);S.attr(a,S.outerHeight(!0)+x.outerHeight(!0))}function q(){H();_.eq(0).addClass(i);e(o).unveil(100);I()}var r="active",i="current",s="id",o="img",u="next",a="data-offset-bottom",f="data-offset-top",l="past",c="previous",h="show",p=e(t),d=e("html"),v=d.add("body"),m=e("nav"),g=e(n.getElementById("nav-logo")),y=m.find("a"),b=e(n.getElementById("mobile-nav")),w=b.find("b"),E=b.find("i"),S=e(n.getElementById("hd")),x=e(n.getElementById("intro")),T=e(n.getElementById("contact")),N=e(n.getElementById("main")),C=N.find("article"),k,L,A,O,M=e(n.getElementById("testimonials")),_=M.find(".quote"),D,P;w.on("click",function(e){e.preventDefault();j();m.hasClass(h)&&m.removeClass(h)});g.on("click",function(e){e.preventDefault();j();m.hasClass(h)&&m.removeClass(h)});y.on("click",function(t){t.preventDefault();j(e(this).attr("href"));m.hasClass(h)&&m.removeClass(h)});E.on("click",function(){m.toggleClass(h)});p.resize(function(){I();e(this).scroll()});p.scroll(function(){var t=e(this);A=t.scrollTop();L=A+k;F(A)});p.on("load",function(){q()})})(jQuery,window,document);