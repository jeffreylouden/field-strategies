(function(e,t,n){"use strict";function P(){H(o);setTimeout(function(){P()},7500)}function H(t){_=O.find(".current");D=_.index();if(t===l){_.removeClass(f).removeClass(i);if(D>0)M.eq(D-1).removeClass(f).addClass(i);else if(D===0){M.each(function(){var t=e(this),n=t.index();n>0&&n<M.length-1&&t.addClass(f)});M.eq(M.length-1).addClass(i)}else M.eq(M.length-1).removeClass(f).addClass(i)}else{_.removeClass(i).addClass(f);if(D<M.length-1)M.eq(parseFloat(D+1)).removeClass(f).addClass(i);else{M.eq(0).removeClass(f).addClass(i);M.each(function(){e(this).removeClass(f)})}}}function B(n){if(n===null||typeof n=="undefined")d.animate({scrollTop:0},600);else{var r=e(n),i=t.location.origin+"/"+n,s=r.offset().top;d.animate({scrollTop:s-52},600)}}function j(t){N.each(function(){var n=e(this),i=n.attr(s);switch(i){case"testimonials":i="clients";break;case"full-list":i="services"}if(x.attr(a)<=k){A="contact";m.hasClass(c)||m.addClass(c);v.find(".active").removeClass(r);e(v.find("[href=#contact]").closest("li")).addClass(r)}else if(t>=parseInt(n.attr(a)-56,10)&&t<parseInt(n.attr(u),10)&&A!==i){A=i;m.hasClass(c)||m.addClass(c);v.find(".active").removeClass(r);e(v.find("[href=#"+A+"]").closest("li")).addClass(r)}else if(t<parseInt(E.attr(u)-56,10)){v.find(".active").removeClass(r);m.removeClass(c);A=""}})}function F(){C=h.height();N.each(function(){var t=e(this);t.attr(a,t.offset().top);t.attr(u,parseInt(t.attr(a),10)+parseInt(t.outerHeight(!0),10))});x.attr(a,x.offset().top);E.attr(a,0);E.attr(u,E.outerHeight(!0)+S.outerHeight(!0))}function I(){P();M.eq(0).addClass(i);F()}var r="active",i="current",s="id",o="next",u="data-offset-bottom",a="data-offset-top",f="past",l="previous",c="show",h=e(t),p=e("html"),d=p.add("body"),v=e("nav"),m=e(n.getElementById("nav-logo")),g=v.find("a"),y=e(n.getElementById("mobile-nav")),b=y.find("b"),w=y.find("i"),E=e(n.getElementById("hd")),S=e(n.getElementById("intro")),x=e(n.getElementById("contact")),T=e(n.getElementById("main")),N=T.find("article"),C,k,L,A,O=e(n.getElementById("testimonials")),M=O.find(".quote"),_,D;b.on("click",function(e){e.preventDefault();B();v.hasClass(c)&&v.removeClass(c)});m.on("click",function(e){e.preventDefault();B();v.hasClass(c)&&v.removeClass(c)});g.on("click",function(t){t.preventDefault();B(e(this).attr("href"));v.hasClass(c)&&v.removeClass(c)});w.on("click",function(){v.toggleClass(c)});h.resize(function(){F();e(this).scroll()});h.scroll(function(){var t=e(this);L=t.scrollTop();k=L+C;j(L)});h.on("load",function(){I()})})(jQuery,window,document);